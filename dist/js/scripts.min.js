function init(){timer&&clearInterval(timer),sec=0,timer=setInterval(tick,1e3)}function tick(){sec++,document.getElementById("timer").childNodes[0].nodeValue=sec}!function(){var s,a;a={init:function(){this.$game=$(".game"),this.$modal=$(".modal"),this.$overlay=$(".modal-overlay"),this.$restartButton=$("button.restart"),this.$startGame=$(".start-game"),this.$buttonStart=$(".start"),this.$gamewrap=$(".game-wrap"),this.$gamewrap.hide(),this.$buttonStart.on("click",function(){var s=$(".player-name").val();$(".player").html("Player name: "+s),a.$startGame.fadeOut(),a.$gamewrap.fadeIn(),a.setup(),init()})},setup:function(){var r=[];"1"==$("input:radio[name=theme]:checked").val()?(r=i.slice(),s="src/image/shirt.jpg"):"2"==$("input:radio[name=theme]:checked").val()?(r=e.slice(),s="src/image/car-brands/background.png"):"3"==$("input:radio[name=theme]:checked").val()&&(r=t.slice(),s="src/image/social/Social-Icons-Transparent-Background.png"),"1"==$("input:radio[name=check]:checked").val()?(this.cardsArray=$.merge(r.slice(6),r.slice(6)),this.$cards=$(a.shuffle(this.cardsArray))):"2"==$("input:radio[name=check]:checked").val()?(this.cardsArray=$.merge(r.slice(4),r.slice(4)),this.$cards=$(a.shuffle(this.cardsArray))):"3"==$("input:radio[name=check]:checked").val()?(this.cardsArray=r.concat(r),this.$cards=$(a.shuffle(this.cardsArray))):(alert("надо что то выбрать"),a.$startGame.fadeIn(),a.$gamewrap.fadeOut(),this.$cards=$(a.shuffle(this.cardsArray)),a.setup()),this.html=this.buildHTML(),this.$game.html(this.html),this.$memoryCards=$(".card"),this.paused=!1,this.guess=null,this.binding()},binding:function(){this.$memoryCards.on("click",this.cardClicked),this.$restartButton.on("click",$.proxy(this.reset,this))},cardClicked:function(){var s;s=soundManager.createSound({url:"src/sound/Sound.mp3"}),s.play();var i=a,e=$(this);if(!i.paused&&!e.find(".inside").hasClass("matched")&&!e.find(".inside").hasClass("picked")){if(e.find(".inside").addClass("picked"),i.guess)if(i.guess!=$(this).attr("data-id")||$(this).hasClass("picked"))i.guess=null,i.paused=!0,setTimeout(function(){$(".picked").removeClass("picked"),a.paused=!1},600);else{var s;s=soundManager.createSound({url:"src/sound/zvuk-puli.mp3"}),s.play(),$(".picked").addClass("matched"),i.guess=null}else i.guess=$(this).attr("data-id");$(".matched").length==$(".card").length&&i.win()}},win:function(){var s;s=soundManager.createSound({url:"src/sound/Sound.mp3"}),s.play(),this.paused=!0;var i=sec;$(".result").html("Ваш результат "+i+" секунд");var e=$(".player-name").val(),t=localStorage.getItem("save"),r={},n={};t&&(r=JSON.parse(t)),n={name:e,result:i},$(".pre-result").html("Ваш предыдущий рекорд "+r.result+" секунд"),n.result<r.result?localStorage.setItem("save",JSON.stringify(n)):localStorage.setItem("save",JSON.stringify(r)),setTimeout(function(){a.showModal(),a.$game.fadeOut()},1e3)},showModal:function(){this.$overlay.show(),this.$modal.fadeIn("slow")},hideModal:function(){this.$overlay.hide(),this.$modal.hide()},reset:function(){init(),this.hideModal(),this.$cards=$(a.shuffle(this.cardsArray)),this.setup(),this.$game.show("slow")},shuffle:function(s){var a,i,e;for(a=s.length;a>0;)e=Math.floor(Math.random()*a),a--,i=s[a],s[a]=s[e],s[e]=i;return s},buildHTML:function(){this.$restart=$("button.restart-game"),this.$restart.on("click",function(){$(".game").empty(),a.$startGame.fadeIn(),a.$gamewrap.fadeOut(),this.$cards=$(a.shuffle(this.cardsArray)),a.setup(),clearInterval(tick)});var i;return i="",this.$cards.each(function(a,e){i+='<div class="card" data-id="'+e.id+'"><div class="inside">       <div class="front"><img src="'+e.img+'"\t\t\t\talt="'+e.name+'" /></div>\t   <div class="back"><img src="'+s+'"\t\t\t\talt="shirt" /></div></div>\t   </div>'}),i}};var i=[{name:"php",img:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/74196/php-logo_1.png",id:1},{name:"css3",img:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/74196/css3-logo.png",id:2},{name:"html5",img:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/74196/html5-logo.png",id:3},{name:"jquery",img:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/74196/jquery-logo.png",id:4},{name:"javascript",img:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/74196/js-logo.png",id:5},{name:"node",img:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/74196/nodejs-logo.png",id:6},{name:"photoshop",img:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/74196/photoshop-logo.png",id:7},{name:"python",img:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/74196/python-logo.png",id:8},{name:"rails",img:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/74196/rails-logo.png",id:9},{name:"sass",img:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/74196/sass-logo.png",id:10},{name:"sublime",img:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/74196/sublime-logo.png",id:11},{name:"wordpress",img:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/74196/wordpress-logo.png",id:12}],e=[{name:"audi",img:"src/image/car-brands/1.svg",id:1},{name:"bmw",img:"src/image/car-brands/2.svg",id:2},{name:"aston martin",img:"src/image/car-brands/3.svg",id:3},{name:"toyota",img:"src/image/car-brands/4.svg",id:4},{name:"jaguar",img:"src/image/car-brands/5.svg",id:5},{name:"bentley",img:"src/image/car-brands/6.svg",id:6},{name:"bugatti",img:"src/image/car-brands/7.svg",id:7},{name:"maserati",img:"src/image/car-brands/8.svg",id:8},{name:"ferrari",img:"src/image/car-brands/9.svg",id:9},{name:"mercedes",img:"src/image/car-brands/10.svg",id:10},{name:"cadillac",img:"src/image/car-brands/11.svg",id:11},{name:"maz",img:"src/image/car-brands/12.svg",id:12}],t=[{name:"php",img:"src/image/social/1.svg",id:1},{name:"css3",img:"src/image/social/2.svg",id:2},{name:"html5",img:"src/image/social/3.svg",id:3},{name:"jquery",img:"src/image/social/4.svg",id:4},{name:"javascript",img:"src/image/social/5.svg",id:5},{name:"node",img:"src/image/social/6.svg",id:6},{name:"photoshop",img:"src/image/social/7.svg",id:7},{name:"python",img:"src/image/social/8.svg",id:8},{name:"rails",img:"src/image/social/9.svg",id:9},{name:"sass",img:"src/image/social/10.svg",id:10},{name:"sublime",img:"src/image/social/11.svg",id:11},{name:"wordpress",img:"src/image/social/12.svg",id:12}];a.init()}();var timer;